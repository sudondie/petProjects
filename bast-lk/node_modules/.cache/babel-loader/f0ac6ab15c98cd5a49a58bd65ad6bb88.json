{"remainingRequest":"C:\\Users\\sudondie\\Desktop\\bastion-lk\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\sudondie\\Desktop\\bastion-lk\\node_modules\\vue-cli-plugin-quasar\\lib\\loader.js.transform-quasar-imports.js!C:\\Users\\sudondie\\Desktop\\bastion-lk\\node_modules\\quasar\\src\\composables\\private\\use-anchor.js","dependencies":[{"path":"C:\\Users\\sudondie\\Desktop\\bastion-lk\\node_modules\\quasar\\src\\composables\\private\\use-anchor.js","mtime":499162500000},{"path":"C:\\Users\\sudondie\\Desktop\\bastion-lk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\sudondie\\Desktop\\bastion-lk\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\sudondie\\Desktop\\bastion-lk\\node_modules\\vue-cli-plugin-quasar\\lib\\loader.js.transform-quasar-imports.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVmLCB3YXRjaCwgb25Nb3VudGVkLCBvbkJlZm9yZVVubW91bnQsIG5leHRUaWNrLCBnZXRDdXJyZW50SW5zdGFuY2UgfSBmcm9tICd2dWUnOwppbXBvcnQgeyBjbGVhclNlbGVjdGlvbiB9IGZyb20gJy4uLy4uL3V0aWxzL3ByaXZhdGUvc2VsZWN0aW9uLmpzJzsKaW1wb3J0IHsgYWRkRXZ0LCBjbGVhbkV2dCwgcHJldmVudCB9IGZyb20gJy4uLy4uL3V0aWxzL2V2ZW50LmpzJzsKaW1wb3J0IHsgaXNLZXlDb2RlIH0gZnJvbSAnLi4vLi4vdXRpbHMvcHJpdmF0ZS9rZXktY29tcG9zaXRpb24uanMnOwpleHBvcnQgdmFyIHVzZUFuY2hvclByb3BzID0gewogIHRhcmdldDogewogICAgZGVmYXVsdDogdHJ1ZQogIH0sCiAgbm9QYXJlbnRFdmVudDogQm9vbGVhbiwKICBjb250ZXh0TWVudTogQm9vbGVhbgp9OwpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoX3JlZikgewogIHZhciBzaG93aW5nID0gX3JlZi5zaG93aW5nLAogICAgICBhdm9pZEVtaXQgPSBfcmVmLmF2b2lkRW1pdCwKICAgICAgY29uZmlndXJlQW5jaG9yRWwgPSBfcmVmLmNvbmZpZ3VyZUFuY2hvckVsOwoKICB2YXIgX2dldEN1cnJlbnRJbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpLAogICAgICBwcm9wcyA9IF9nZXRDdXJyZW50SW5zdGFuY2UucHJvcHMsCiAgICAgIHByb3h5ID0gX2dldEN1cnJlbnRJbnN0YW5jZS5wcm94eSwKICAgICAgZW1pdCA9IF9nZXRDdXJyZW50SW5zdGFuY2UuZW1pdDsKCiAgdmFyIGFuY2hvckVsID0gcmVmKG51bGwpOwogIHZhciB0b3VjaFRpbWVyOwoKICBmdW5jdGlvbiBjYW5TaG93KGV2dCkgewogICAgLy8gYWJvcnQgd2l0aCBubyBwYXJlbnQgY29uZmlndXJlZCBvciBvbiBtdWx0aS10b3VjaAogICAgcmV0dXJuIGFuY2hvckVsLnZhbHVlID09PSBudWxsID8gZmFsc2UgOiBldnQgPT09IHZvaWQgMCB8fCBldnQudG91Y2hlcyA9PT0gdm9pZCAwIHx8IGV2dC50b3VjaGVzLmxlbmd0aCA8PSAxOwogIH0KCiAgdmFyIGFuY2hvckV2ZW50cyA9IHt9OwoKICBpZiAoY29uZmlndXJlQW5jaG9yRWwgPT09IHZvaWQgMCkgewogICAgLy8gZGVmYXVsdCBjb25maWd1cmVBbmNob3JFbCBpcyBkZXNpZ25lZCBmb3IKICAgIC8vIFFNZW51ICYgUVBvcHVwUHJveHkgKHdoaWNoIGlzIHdoeSBpdCdzIGhhbmRsZWQgaGVyZSkKICAgIE9iamVjdC5hc3NpZ24oYW5jaG9yRXZlbnRzLCB7CiAgICAgIGhpZGU6IGZ1bmN0aW9uIGhpZGUoZXZ0KSB7CiAgICAgICAgcHJveHkuaGlkZShldnQpOwogICAgICB9LAogICAgICB0b2dnbGU6IGZ1bmN0aW9uIHRvZ2dsZShldnQpIHsKICAgICAgICBwcm94eS50b2dnbGUoZXZ0KTsKICAgICAgfSwKICAgICAgdG9nZ2xlS2V5OiBmdW5jdGlvbiB0b2dnbGVLZXkoZXZ0KSB7CiAgICAgICAgaXNLZXlDb2RlKGV2dCwgMTMpID09PSB0cnVlICYmIHByb3h5LnRvZ2dsZShldnQpOwogICAgICB9LAogICAgICBjb250ZXh0Q2xpY2s6IGZ1bmN0aW9uIGNvbnRleHRDbGljayhldnQpIHsKICAgICAgICBwcm94eS5oaWRlKGV2dCk7CiAgICAgICAgbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgcHJveHkuc2hvdyhldnQpOwogICAgICAgIH0pOwogICAgICAgIHByZXZlbnQoZXZ0KTsKICAgICAgfSwKICAgICAgbW9iaWxlUHJldmVudDogcHJldmVudCwKICAgICAgbW9iaWxlVG91Y2g6IGZ1bmN0aW9uIG1vYmlsZVRvdWNoKGV2dCkgewogICAgICAgIGFuY2hvckV2ZW50cy5tb2JpbGVDbGVhbnVwKGV2dCk7CgogICAgICAgIGlmIChjYW5TaG93KGV2dCkgIT09IHRydWUpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHByb3h5LmhpZGUoZXZ0KTsKICAgICAgICBhbmNob3JFbC52YWx1ZS5jbGFzc0xpc3QuYWRkKCdub24tc2VsZWN0YWJsZScpOwogICAgICAgIHZhciB0YXJnZXQgPSBldnQudGFyZ2V0OwogICAgICAgIGFkZEV2dChhbmNob3JFdmVudHMsICdhbmNob3InLCBbW3RhcmdldCwgJ3RvdWNobW92ZScsICdtb2JpbGVDbGVhbnVwJywgJ3Bhc3NpdmUnXSwgW3RhcmdldCwgJ3RvdWNoZW5kJywgJ21vYmlsZUNsZWFudXAnLCAncGFzc2l2ZSddLCBbdGFyZ2V0LCAndG91Y2hjYW5jZWwnLCAnbW9iaWxlQ2xlYW51cCcsICdwYXNzaXZlJ10sIFthbmNob3JFbC52YWx1ZSwgJ2NvbnRleHRtZW51JywgJ21vYmlsZVByZXZlbnQnLCAnbm90UGFzc2l2ZSddXSk7CiAgICAgICAgdG91Y2hUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgcHJveHkuc2hvdyhldnQpOwogICAgICAgIH0sIDMwMCk7CiAgICAgIH0sCiAgICAgIG1vYmlsZUNsZWFudXA6IGZ1bmN0aW9uIG1vYmlsZUNsZWFudXAoZXZ0KSB7CiAgICAgICAgYW5jaG9yRWwudmFsdWUuY2xhc3NMaXN0LnJlbW92ZSgnbm9uLXNlbGVjdGFibGUnKTsKICAgICAgICBjbGVhclRpbWVvdXQodG91Y2hUaW1lcik7CgogICAgICAgIGlmIChzaG93aW5nLnZhbHVlID09PSB0cnVlICYmIGV2dCAhPT0gdm9pZCAwKSB7CiAgICAgICAgICBjbGVhclNlbGVjdGlvbigpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CgogICAgY29uZmlndXJlQW5jaG9yRWwgPSBmdW5jdGlvbiBjb25maWd1cmVBbmNob3JFbCgpIHsKICAgICAgdmFyIGNvbnRleHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHByb3BzLmNvbnRleHRNZW51OwoKICAgICAgaWYgKHByb3BzLm5vUGFyZW50RXZlbnQgPT09IHRydWUgfHwgYW5jaG9yRWwudmFsdWUgPT09IG51bGwpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBldnRzOwoKICAgICAgaWYgKGNvbnRleHQgPT09IHRydWUpIHsKICAgICAgICBpZiAocHJveHkuJHEucGxhdGZvcm0uaXMubW9iaWxlID09PSB0cnVlKSB7CiAgICAgICAgICBldnRzID0gW1thbmNob3JFbC52YWx1ZSwgJ3RvdWNoc3RhcnQnLCAnbW9iaWxlVG91Y2gnLCAncGFzc2l2ZSddXTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZXZ0cyA9IFtbYW5jaG9yRWwudmFsdWUsICdjbGljaycsICdoaWRlJywgJ3Bhc3NpdmUnXSwgW2FuY2hvckVsLnZhbHVlLCAnY29udGV4dG1lbnUnLCAnY29udGV4dENsaWNrJywgJ25vdFBhc3NpdmUnXV07CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGV2dHMgPSBbW2FuY2hvckVsLnZhbHVlLCAnY2xpY2snLCAndG9nZ2xlJywgJ3Bhc3NpdmUnXSwgW2FuY2hvckVsLnZhbHVlLCAna2V5dXAnLCAndG9nZ2xlS2V5JywgJ3Bhc3NpdmUnXV07CiAgICAgIH0KCiAgICAgIGFkZEV2dChhbmNob3JFdmVudHMsICdhbmNob3InLCBldnRzKTsKICAgIH07CiAgfQoKICBmdW5jdGlvbiB1bmNvbmZpZ3VyZUFuY2hvckVsKCkgewogICAgY2xlYW5FdnQoYW5jaG9yRXZlbnRzLCAnYW5jaG9yJyk7CiAgfQoKICBmdW5jdGlvbiBzZXRBbmNob3JFbChlbCkgewogICAgYW5jaG9yRWwudmFsdWUgPSBlbDsKCiAgICB3aGlsZSAoYW5jaG9yRWwudmFsdWUuY2xhc3NMaXN0LmNvbnRhaW5zKCdxLWFuY2hvci0tc2tpcCcpKSB7CiAgICAgIGFuY2hvckVsLnZhbHVlID0gYW5jaG9yRWwudmFsdWUucGFyZW50Tm9kZTsKICAgIH0KCiAgICBjb25maWd1cmVBbmNob3JFbCgpOwogIH0KCiAgZnVuY3Rpb24gcGlja0FuY2hvckVsKCkgewogICAgaWYgKHByb3BzLnRhcmdldCA9PT0gZmFsc2UgfHwgcHJvcHMudGFyZ2V0ID09PSAnJykgewogICAgICBhbmNob3JFbC52YWx1ZSA9IG51bGw7CiAgICB9IGVsc2UgaWYgKHByb3BzLnRhcmdldCA9PT0gdHJ1ZSkgewogICAgICBzZXRBbmNob3JFbChwcm94eS4kZWwucGFyZW50Tm9kZSk7CiAgICB9IGVsc2UgewogICAgICB2YXIgZWwgPSBwcm9wcy50YXJnZXQ7CgogICAgICBpZiAodHlwZW9mIHByb3BzLnRhcmdldCA9PT0gJ3N0cmluZycpIHsKICAgICAgICB0cnkgewogICAgICAgICAgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByb3BzLnRhcmdldCk7CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICBlbCA9IHZvaWQgMDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmIChlbCAhPT0gdm9pZCAwICYmIGVsICE9PSBudWxsKSB7CiAgICAgICAgYW5jaG9yRWwudmFsdWUgPSBlbC4kZWwgfHwgZWw7CiAgICAgICAgY29uZmlndXJlQW5jaG9yRWwoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBhbmNob3JFbC52YWx1ZSA9IG51bGw7CiAgICAgICAgY29uc29sZS5lcnJvcigiQW5jaG9yOiB0YXJnZXQgXCIiLmNvbmNhdChwcm9wcy50YXJnZXQsICJcIiBub3QgZm91bmQiKSk7CiAgICAgIH0KICAgIH0KICB9CgogIHdhdGNoKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBwcm9wcy5jb250ZXh0TWVudTsKICB9LCBmdW5jdGlvbiAodmFsKSB7CiAgICBpZiAoYW5jaG9yRWwudmFsdWUgIT09IG51bGwpIHsKICAgICAgdW5jb25maWd1cmVBbmNob3JFbCgpOwogICAgICBjb25maWd1cmVBbmNob3JFbCh2YWwpOwogICAgfQogIH0pOwogIHdhdGNoKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBwcm9wcy50YXJnZXQ7CiAgfSwgZnVuY3Rpb24gKCkgewogICAgaWYgKGFuY2hvckVsLnZhbHVlICE9PSBudWxsKSB7CiAgICAgIHVuY29uZmlndXJlQW5jaG9yRWwoKTsKICAgIH0KCiAgICBwaWNrQW5jaG9yRWwoKTsKICB9KTsKICB3YXRjaChmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gcHJvcHMubm9QYXJlbnRFdmVudDsKICB9LCBmdW5jdGlvbiAodmFsKSB7CiAgICBpZiAoYW5jaG9yRWwudmFsdWUgIT09IG51bGwpIHsKICAgICAgaWYgKHZhbCA9PT0gdHJ1ZSkgewogICAgICAgIHVuY29uZmlndXJlQW5jaG9yRWwoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25maWd1cmVBbmNob3JFbCgpOwogICAgICB9CiAgICB9CiAgfSk7CiAgb25Nb3VudGVkKGZ1bmN0aW9uICgpIHsKICAgIHBpY2tBbmNob3JFbCgpOwoKICAgIGlmIChhdm9pZEVtaXQgIT09IHRydWUgJiYgcHJvcHMubW9kZWxWYWx1ZSA9PT0gdHJ1ZSAmJiBhbmNob3JFbC52YWx1ZSA9PT0gbnVsbCkgewogICAgICBlbWl0KCd1cGRhdGU6bW9kZWxWYWx1ZScsIGZhbHNlKTsKICAgIH0KICB9KTsKICBvbkJlZm9yZVVubW91bnQoZnVuY3Rpb24gKCkgewogICAgY2xlYXJUaW1lb3V0KHRvdWNoVGltZXIpOwogICAgdW5jb25maWd1cmVBbmNob3JFbCgpOwogIH0pOwogIHJldHVybiB7CiAgICBhbmNob3JFbDogYW5jaG9yRWwsCiAgICBjYW5TaG93OiBjYW5TaG93LAogICAgYW5jaG9yRXZlbnRzOiBhbmNob3JFdmVudHMKICB9Owp9"},{"version":3,"sources":["C:/Users/sudondie/Desktop/bastion-lk/node_modules/quasar/src/composables/private/use-anchor.js"],"names":["ref","watch","onMounted","onBeforeUnmount","nextTick","getCurrentInstance","clearSelection","addEvt","cleanEvt","prevent","isKeyCode","useAnchorProps","target","default","noParentEvent","Boolean","contextMenu","showing","avoidEmit","configureAnchorEl","props","proxy","emit","anchorEl","touchTimer","canShow","evt","value","touches","length","anchorEvents","Object","assign","hide","toggle","toggleKey","contextClick","show","mobilePrevent","mobileTouch","mobileCleanup","classList","add","setTimeout","remove","clearTimeout","context","evts","$q","platform","is","mobile","unconfigureAnchorEl","setAnchorEl","el","contains","parentNode","pickAnchorEl","$el","document","querySelector","err","console","error","val","modelValue"],"mappings":"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","sourcesContent":["import { ref, watch, onMounted, onBeforeUnmount, nextTick, getCurrentInstance } from 'vue'\n\nimport { clearSelection } from '../../utils/private/selection.js'\nimport { addEvt, cleanEvt, prevent } from '../../utils/event.js'\nimport { isKeyCode } from '../../utils/private/key-composition.js'\n\nexport const useAnchorProps = {\n  target: {\n    default: true\n  },\n  noParentEvent: Boolean,\n  contextMenu: Boolean\n}\n\nexport default function ({\n  showing,\n  avoidEmit, // required for QPopupProxy (true)\n  configureAnchorEl // optional\n}) {\n  const { props, proxy, emit } = getCurrentInstance()\n\n  const anchorEl = ref(null)\n\n  let touchTimer\n\n  function canShow (evt) {\n    // abort with no parent configured or on multi-touch\n    return anchorEl.value === null\n      ? false\n      : (evt === void 0 || evt.touches === void 0 || evt.touches.length <= 1)\n  }\n\n  const anchorEvents = {}\n\n  if (configureAnchorEl === void 0) {\n    // default configureAnchorEl is designed for\n    // QMenu & QPopupProxy (which is why it's handled here)\n\n    Object.assign(anchorEvents, {\n      hide (evt) {\n        proxy.hide(evt)\n      },\n\n      toggle (evt) {\n        proxy.toggle(evt)\n      },\n\n      toggleKey (evt) {\n        isKeyCode(evt, 13) === true && proxy.toggle(evt)\n      },\n\n      contextClick (evt) {\n        proxy.hide(evt)\n        nextTick(() => { proxy.show(evt) })\n        prevent(evt)\n      },\n\n      mobilePrevent: prevent,\n\n      mobileTouch (evt) {\n        anchorEvents.mobileCleanup(evt)\n\n        if (canShow(evt) !== true) {\n          return\n        }\n\n        proxy.hide(evt)\n        anchorEl.value.classList.add('non-selectable')\n\n        const target = evt.target\n        addEvt(anchorEvents, 'anchor', [\n          [ target, 'touchmove', 'mobileCleanup', 'passive' ],\n          [ target, 'touchend', 'mobileCleanup', 'passive' ],\n          [ target, 'touchcancel', 'mobileCleanup', 'passive' ],\n          [ anchorEl.value, 'contextmenu', 'mobilePrevent', 'notPassive' ]\n        ])\n\n        touchTimer = setTimeout(() => {\n          proxy.show(evt)\n        }, 300)\n      },\n\n      mobileCleanup (evt) {\n        anchorEl.value.classList.remove('non-selectable')\n        clearTimeout(touchTimer)\n\n        if (showing.value === true && evt !== void 0) {\n          clearSelection()\n        }\n      }\n    })\n\n    configureAnchorEl = function (context = props.contextMenu) {\n      if (props.noParentEvent === true || anchorEl.value === null) { return }\n\n      let evts\n\n      if (context === true) {\n        if (proxy.$q.platform.is.mobile === true) {\n          evts = [\n            [ anchorEl.value, 'touchstart', 'mobileTouch', 'passive' ]\n          ]\n        }\n        else {\n          evts = [\n            [ anchorEl.value, 'click', 'hide', 'passive' ],\n            [ anchorEl.value, 'contextmenu', 'contextClick', 'notPassive' ]\n          ]\n        }\n      }\n      else {\n        evts = [\n          [ anchorEl.value, 'click', 'toggle', 'passive' ],\n          [ anchorEl.value, 'keyup', 'toggleKey', 'passive' ]\n        ]\n      }\n\n      addEvt(anchorEvents, 'anchor', evts)\n    }\n  }\n\n  function unconfigureAnchorEl () {\n    cleanEvt(anchorEvents, 'anchor')\n  }\n\n  function setAnchorEl (el) {\n    anchorEl.value = el\n    while (anchorEl.value.classList.contains('q-anchor--skip')) {\n      anchorEl.value = anchorEl.value.parentNode\n    }\n    configureAnchorEl()\n  }\n\n  function pickAnchorEl () {\n    if (props.target === false || props.target === '') {\n      anchorEl.value = null\n    }\n    else if (props.target === true) {\n      setAnchorEl(proxy.$el.parentNode)\n    }\n    else {\n      let el = props.target\n\n      if (typeof props.target === 'string') {\n        try {\n          el = document.querySelector(props.target)\n        }\n        catch (err) {\n          el = void 0\n        }\n      }\n\n      if (el !== void 0 && el !== null) {\n        anchorEl.value = el.$el || el\n        configureAnchorEl()\n      }\n      else {\n        anchorEl.value = null\n        console.error(`Anchor: target \"${ props.target }\" not found`)\n      }\n    }\n  }\n\n  watch(() => props.contextMenu, val => {\n    if (anchorEl.value !== null) {\n      unconfigureAnchorEl()\n      configureAnchorEl(val)\n    }\n  })\n\n  watch(() => props.target, () => {\n    if (anchorEl.value !== null) {\n      unconfigureAnchorEl()\n    }\n\n    pickAnchorEl()\n  })\n\n  watch(() => props.noParentEvent, val => {\n    if (anchorEl.value !== null) {\n      if (val === true) {\n        unconfigureAnchorEl()\n      }\n      else {\n        configureAnchorEl()\n      }\n    }\n  })\n\n  onMounted(() => {\n    pickAnchorEl()\n\n    if (avoidEmit !== true && props.modelValue === true && anchorEl.value === null) {\n      emit('update:modelValue', false)\n    }\n  })\n\n  onBeforeUnmount(() => {\n    clearTimeout(touchTimer)\n    unconfigureAnchorEl()\n  })\n\n  return {\n    anchorEl,\n    canShow,\n    anchorEvents\n  }\n}\n"]}]}